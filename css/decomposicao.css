body{
  font-family: system-ui, Arial, sans-serif;
  text-align:center;
  background:#f0f0f0;
}
h1{ 
  margin:18px 0 10px;
  font-family: sans-serif;
}
p {
  color: black;
  margin-bottom: 10px;
  font-family:monospace;
  font-size: 20px;
}


.toolbar{
  display:inline-flex; gap:16px; align-items:center; margin-bottom:12px;
}
.toolbar button{
  padding:8px 14px; border:0; border-radius:8px; cursor:pointer;
  font-weight:600; background:#4f46e5; color:#fff;
}
.toolbar button:hover{ filter:brightness(.95); }
#status{ font-weight:700; }

.puzzle-container{
  width:600px; height:600px; margin:12px auto 24px;
  display:grid; grid-template-columns:repeat(4,1fr); grid-auto-rows:1fr; gap:0;
  border-radius:14px; overflow:hidden; box-shadow:0 10px 28px rgba(0,0,0,.22);
  background:#0b0f1a;
}

.tile{
  background-repeat:no-repeat;
  background-size:400% 400%; /* 4x4 => 400% */
  user-select:none; cursor:grab; position:relative;
  transition:transform .08s ease;
}
.tile:active{ cursor:grabbing; transform:scale(1.02); }

.tile.dragging{ opacity:.85; outline:3px dashed #22d3ee; }
.tile.over{ outline:3px solid #22d3ee; }

.puzzle-wrapper{
  display:flex;
  gap:20px;
  align-items:center;
  justify-content:center;
  margin: 0 auto 24px;
}


.puzzle-wrapper .puzzle-container{
  margin:12px 0 24px;
}


.puzzle-ref{
  order:-1;
  width: 400px;
  max-width: 30vw;
  display:flex;
  flex-direction:column;
  gap:10px;
}


.puzzle-ref figure{
  margin:0;
}
.puzzle-ref img{
  width:100%;
  height:auto;
  display:block;
  border-radius:10px;
  box-shadow:0 8px 20px rgba(0,0,0,.18);
}
.puzzle-ref figcaption{
  font-size:.95rem;
  color:#333;
  text-align:center;
  background:#fff;
  padding:6px 8px;
  border-radius:8px;
  border:1px solid #e5e7eb;
}

@media (max-width: 900px){
  .puzzle-wrapper{
    flex-direction:column;
    align-items:center;
  }
  .puzzle-ref{
    width: min(320px, 90vw);
    max-width: unset;
  }
  .puzzle-wrapper .puzzle-container{
    width: min(90vw, 600px);
    height: auto;                 
    aspect-ratio: 1 / 1;          
  }
}

#status{
  color:#16a34a;
}


